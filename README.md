# Практическое задание: Финальная работа с системой Kubernetes

## Описание задания

Целью данного задания является развертывание и публикация сервиса `app` из задания 11 наружу кластера с помощью Ingress. В результате выполнения задания вы должны составить отчет в формате .pdf или предоставить ссылку на публичный репозиторий GitLab, содержащий все необходимые файлы и инструкции.

## Шаги выполнения

1. **Установка Ingress в кластере**
   - В Minikube установка Ingress осуществляется одной командой:
     ```sh
     minikube addons enable ingress
     ```
   - Эта команда создаст новый namespace `ingress-nginx` и установит в него контроллер `nginx ingress`.

2. **Создание объекта Ingress**
   - Создайте объект Ingress с именем `services` со следующими параметрами:
     - Ingress должен содержать одно правило, по которому все запросы на эндпоинт `/app/*` перенаправляются в сервис для приложения `app` на порт 8080.
     - Для таких операций можно использовать аннотации Ingress.

   Пример файла Ingress:
   ```yaml
   apiVersion: networking.k8s.io/v1
   kind: Ingress
   metadata:
     annotations:
       nginx.ingress.kubernetes.io/rewrite-target: /
     name: services
     namespace: default
   spec:
     rules:
     - http:
         paths:
         - pathType: Prefix
           path: /app/*
           backend:
             service:
               name: app
               port:
                 number: 8080
   ```

3. **Проверка работы Ingress**
   - Узнайте внешний IP-адрес Minikube:
     ```sh
     minikube ip
     ```
   - Отправьте запросы на сервис для проверки работы:
     ```sh
     curl http://<MINIKUBE_IP>/app/
     ```
   - Вы можете отслеживать приходящие на сервис запросы через логи его pod:
     ```sh
     kubectl logs app-***
     ```

## Отчет о выполненной работе

Отчет должен содержать следующие разделы:

1. **Введение**
   - Краткое описание цели задания и используемых технологий.

2. **Установка Ingress**
   - Описание процесса установки Ingress в Minikube с командой `minikube addons enable ingress`.
   - Скриншоты или текстовые выводы команды, подтверждающие успешную установку.

3. **Создание и настройка объекта Ingress**
   - Приведите YAML-файл конфигурации Ingress.
   - Описание параметров и аннотаций, использованных в объекте Ingress.

4. **Проверка работы Ingress**
   - Описание процесса проверки работы Ingress.
   - Скриншоты или текстовые выводы команд `minikube ip`, `curl`, и `kubectl logs`, подтверждающие успешное перенаправление запросов.

5. **Заключение**
   - Выводы по выполненной работе, проблемы, с которыми вы столкнулись, и способы их решения.

## Сдача работы

Вы можете сдать отчет в одном из двух форматов:
1. **PDF-отчет**: Создайте отчет в формате .pdf и приложите его к заданию.
2. **GitLab-репозиторий**: Опубликуйте все файлы и инструкции в публичном репозитории на GitLab и предоставьте ссылку на репозиторий.

